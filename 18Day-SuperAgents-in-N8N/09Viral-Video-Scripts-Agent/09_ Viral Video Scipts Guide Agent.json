{
  "name": "09: Viral Video Scipts Guide Agent",
  "nodes": [
    {
      "parameters": {
        "formTitle": "Viral Video Script Guide Agent",
        "formDescription": "Get our viral video scripts in seconds",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Upload Viral Video",
              "fieldType": "file",
              "multipleFiles": false,
              "requiredField": true
            },
            {
              "fieldLabel": "What's your topic",
              "placeholder": "Write down your next video topic"
            },
            {
              "fieldLabel": "Target Format",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "Reel"
                  },
                  {
                    "option": "Story"
                  },
                  {
                    "option": "IGTV"
                  },
                  {
                    "option": "Post"
                  }
                ]
              }
            },
            {
              "fieldLabel": "Brand Voice",
              "fieldType": "dropdown",
              "fieldOptions": {
                "values": [
                  {
                    "option": "Professional"
                  },
                  {
                    "option": "Casual"
                  },
                  {
                    "option": "Trendy"
                  },
                  {
                    "option": "Educational"
                  }
                ]
              }
            },
            {
              "fieldLabel": "Target Audience"
            },
            {
              "fieldLabel": "Your Current Followers",
              "fieldType": "number",
              "placeholder": "8882"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [-720, -192],
      "id": "9724c1b1-ee33-47b3-9e54-975ec7e75de7",
      "name": "On form submission",
      "webhookId": "f4d0757f-ba1d-408a-bd04-53022a423d2e"
    },
    {
      "parameters": {
        "content": "### Phase 1 - Analyze Video",
        "height": 416,
        "width": 928,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [-416, -80],
      "id": "dedeae68-09ad-4cc9-890e-5d0f0a066f33",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://generativelanguage.googleapis.com/upload/v1beta/files?key=YOUR-API-KEY",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "X-Goog-Upload-Command",
              "value": "start, upload, finalize "
            },
            {
              "name": "X-Goog-Upload-Header-Content-Length",
              "value": "={{ $json[\"Viral Video Input\"].size }}"
            },
            {
              "name": " X-Goog-Upload-Header-Content-Type",
              "value": "video/mp4"
            },
            {
              "name": "Content-Type",
              "value": "video/mp4"
            }
          ]
        },
        "sendBody": true,
        "contentType": "binaryData",
        "inputDataFieldName": "Upload_Viral_Video",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [-352, 16],
      "id": "fea0c655-5eda-42fc-8e78-9b4f8c212d8e",
      "name": "Get Video"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=YOUR-API-KEY",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"contents\": [\n    {\n      \"role\": \"user\",\n      \"parts\": [\n        {\n          \"fileData\": {\n            \"fileUri\": \"{{ $json.file.uri }}\",\n            \"mimeType\": \"{{ $json.file.mimeType }}\"\n          }\n        },\n        {\n          \"text\": \"You are an Instagram content analyst. Analyze videos for viral potential and Instagram optimization\"\n        }\n      ]\n    }\n  ]\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [16, 16],
      "id": "d62e4cf2-e633-4984-84ea-1c1ff3ece180",
      "name": "Get Video Analysis",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [-160, 16],
      "id": "0b63fe69-faf3-4591-9a2c-8d1d01b86f7a",
      "name": "Wait",
      "webhookId": "abffc05f-a5a0-4fb3-973f-b722fb264254"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [208, 144],
      "id": "e205e0de-4f3f-4a08-97da-ea8e0ebcab11",
      "name": "Wait1",
      "webhookId": "eeff505c-e967-4c8d-982d-496c78340c2a"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "1c7a6dbe-d2c4-424c-829d-2bf711a55b05",
              "name": "candidates[0].content.parts[0].text",
              "value": "={{ $json.candidates[0].content.parts[0].text }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [208, -32],
      "id": "1d290f47-0108-4f65-8012-133deeb0912a",
      "name": "Gemini Analysis"
    },
    {
      "parameters": {
        "content": "### Phase 2 - Create Viral Script",
        "height": 416,
        "width": 1472,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [608, -80],
      "id": "9163bbde-74b8-46f6-8977-8bb6c2484d3b",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Create 3 distinct Instagram Reel script variations based on this analysis. Provide all 3 scripts in your response without asking for confirmation.\n\nANALYSIS:\n\n**ANALYSIS RESULTS:**\n{{ $json.candidates[0].content.parts[0].text }}\n\n**USER REQUIREMENTS:**\n- Topic:{{ $('On form submission').item.json['What\\'s your topic'] }} \n- Format:{{ $('On form submission').item.json['Target Format'] }}\n- Brand Voice: {{ $('On form submission').item.json['Brand Voice'] }}\n- Target Audience: {{ $('On form submission').item.json['Target Audience'] }}\n\n**KEY SUCCESSFUL ELEMENTS TO REPLICATE:**\nâœ“ Strong curiosity hook (\"Mujhe Samaj Nahi Aa Raha\")\nâœ“ AI/No-code trending topic\nâœ“ Clear value proposition (create apps without coding)\nâœ“ Fast-paced, visually engaging format\nâœ“ Simple, direct CTA (\"Comment Magic\")\nâœ“ Educational content with immediate value\n\n**CREATE 3 SCRIPT VARIATIONS (30-60 seconds each):**\n\nFor each script, provide:\n\n**SCRIPT [1/2/3]: [Creative Title]**\n\n**Hook (0-3 seconds):**\n[Attention-grabbing opening that stops scrolling]\n\n**Problem Setup (3-15 seconds):**\n[Establish pain point/challenge]\n\n**Solution Reveal (15-45 seconds):**\n[Show the tool/process with clear value demonstration]\n\n**Benefits/Social Proof (45-55 seconds):**\n[Quick benefits that make viewers want to save]\n\n**Call-to-Action (55-60 seconds):**\n[Specific engagement request]\n\n**Text Overlays:**\n[List 8-10 key text overlays for silent viewing]\n\n**Visual Direction:**\n[Camera angles, demonstrations, props needed]\n\n**Hashtag Strategy:**\n[15-20 hashtags: 5 high-competition, 10 medium, 5 low-competition]\n\n**Hook Variation:**\n[What makes this hook different from the others]\n\n**Target Audience Angle:**\n[Which segment of your audience this will resonate with most]\n\n**Viral Prediction Score:** [X/10 with reasoning]\n\n---\n\n**REQUIREMENTS:**\n- Each script must be DISTINCT with different hooks and angles\n- Optimize for Instagram algorithm (high watch time, saves, comments)\n- Include trending elements while staying authentic\n- Focus on mobile viewing experience\n- Make it save-worthy with actionable value\n- Ensure silent viewing compatibility\n\n**TRENDING ELEMENTS TO CONSIDER:**\n- AI tools are massively trending\n- No-code/automation content performs well\n- Before/after demonstrations get high engagement\n- \"Secret\" or \"hidden\" tool reveals drive curiosity\n- Educational content with immediate value gets saved\n\nCreate scripts that feel authentic to the brand voice while maximizing viral potential!\n\nIMPORTANT: Provide all 3 complete script variations in your response. Do not ask for confirmation or mention that you're creating scripts. Start directly with SCRIPT 1.",
        "options": {
          "systemMessage": "You are an expert Instagram script writer and viral content strategist. You specialize in creating high-engagement Reels that stop the scroll, provide value, and drive massive engagement. You understand Instagram's algorithm, trending formats, and what makes content shareable and save-worthy."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [704, -32],
      "id": "923b326c-b789-42fc-82d9-758f654e93f8",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [672, 176],
      "id": "290f391e-dfe6-43a4-9db3-8803f2aedd42",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "tMG7XfGvu6nuuFgY",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Clean Claude output - Remove unwanted intro/outro text\nconst claudeOutput = $input.first().json.output;\n\n// Remove common unwanted phrases\nlet cleanedOutput = claudeOutput\n  .replace(/I'll create \\d+ distinct.*?[\\n\\r]/g, '')\n  .replace(/Would you like me to continue.*?$/g, '')\n  .replace(/\\[Continued in next part.*?\\]/g, '')\n  .replace(/^.*?focusing on.*?[\\n\\r]/g, '')\n  .trim();\n\n// Ensure it starts with SCRIPT 1\nif (!cleanedOutput.startsWith('**SCRIPT 1')) {\n  const scriptStart = cleanedOutput.indexOf('**SCRIPT 1');\n  if (scriptStart > 0) {\n    cleanedOutput = cleanedOutput.substring(scriptStart);\n  }\n}\n\nreturn [{\n  ...($input.first().json),\n  output: cleanedOutput,\n  cleaned: true\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1056, -32],
      "id": "21a3cac4-e1dc-4bec-98cf-477355905943",
      "name": "Cleanup Request"
    },
    {
      "parameters": {
        "jsCode": "const md = $json.output;\n\nif (!md) {\n  throw new Error('Output field is empty or missing');\n}\n\nlet html = md\n  .replace(/^## (.*$)/gim, '<h2>$1</h2>')  // h2 first\n  .replace(/^# (.*$)/gim, '<h1>$1</h1>')   // then h1\n  .replace(/\\*\\*(.*)\\*\\*/gim, '<b>$1</b>') // bold\n  .replace(/\\*(.*)\\*/gim, '<i>$1</i>')     // italic\n  .replace(/\\n/gim, '<br>');                // line breaks\n\nreturn [{ html }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1264, -32],
      "id": "761b810c-d49f-419e-9411-4299764241cd",
      "name": "Markdown to HTML"
    },
    {
      "parameters": {
        "jsCode": "const rawHtml = $json.html;  // your current HTML output\n\nconst fullHtml = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Converted PDF</title>\n</head>\n<body>\n  ${rawHtml}\n</body>\n</html>\n`;\n\nreturn [{ html: fullHtml }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1472, -32],
      "id": "de0522c8-db61-44a8-adaa-84c5f06f49ba",
      "name": "Complete HTML Document Structure"
    },
    {
      "parameters": {
        "jsCode": "const rawHtml = $json.html;\nconst fullHtml = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>AI Agents Mastery with N8N</title>\n  <style>\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;600&display=swap');\n    \n    /* Modern PDF Styling */\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    \n    body {\n      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 13px;\n      line-height: 1.7;\n      color: #1a1a1a;\n      margin: 30px 40px;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      background-attachment: fixed;\n    }\n    \n    /* Content Container */\n    .content-wrapper {\n      background: white;\n      border-radius: 12px;\n      padding: 40px;\n      box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n      margin: 20px 0;\n    }\n    \n    /* Headers with gradient and modern styling */\n    h1 {\n      font-size: 32px;\n      font-weight: 700;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      background-clip: text;\n      margin: 0 0 30px 0;\n      padding: 20px 0;\n      border-bottom: 3px solid #f1f3f4;\n      position: relative;\n    }\n    \n    h1::after {\n      content: '';\n      position: absolute;\n      bottom: -3px;\n      left: 0;\n      width: 60px;\n      height: 3px;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    }\n    \n    h2 {\n      font-size: 24px;\n      font-weight: 600;\n      color: #2d3748;\n      margin: 35px 0 20px 0;\n      padding: 15px 0 15px 20px;\n      background: linear-gradient(90deg, #f7fafc 0%, #edf2f7 100%);\n      border-left: 4px solid #667eea;\n      border-radius: 0 8px 8px 0;\n      position: relative;\n    }\n    \n    h2::before {\n      content: 'ðŸŽ¯';\n      position: absolute;\n      left: -2px;\n      top: 50%;\n      transform: translateY(-50%);\n      font-size: 18px;\n    }\n    \n    h3 {\n      font-size: 18px;\n      font-weight: 600;\n      color: #4a5568;\n      margin: 25px 0 15px 0;\n      padding: 10px 0;\n      border-bottom: 2px solid #e2e8f0;\n    }\n    \n    /* Paragraphs and text */\n    p {\n      margin: 0 0 18px 0;\n      text-align: justify;\n      color: #2d3748;\n      font-weight: 400;\n    }\n    \n    /* Enhanced Lists */\n    ul, ol {\n      margin: 20px 0 20px 0;\n      padding-left: 0;\n    }\n    \n    li {\n      margin-bottom: 12px;\n      padding-left: 30px;\n      position: relative;\n      color: #4a5568;\n      line-height: 1.6;\n    }\n    \n    ul li::before {\n      content: 'â–¶';\n      position: absolute;\n      left: 0;\n      color: #667eea;\n      font-weight: bold;\n      font-size: 12px;\n    }\n    \n    ol li::before {\n      content: counter(item);\n      counter-increment: item;\n      position: absolute;\n      left: 0;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 11px;\n      font-weight: 600;\n    }\n    \n    ol {\n      counter-reset: item;\n    }\n    \n    /* Enhanced Code Styling */\n    code {\n      font-family: 'JetBrains Mono', 'Fira Code', Monaco, 'Cascadia Code', monospace;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 4px 8px;\n      border-radius: 6px;\n      font-size: 12px;\n      font-weight: 500;\n      letter-spacing: 0.5px;\n    }\n    \n    pre {\n      background: #1a1a1a;\n      color: #f8f8f2;\n      padding: 20px;\n      border-radius: 12px;\n      margin: 20px 0;\n      overflow-x: auto;\n      border: 1px solid #e2e8f0;\n      position: relative;\n    }\n    \n    pre::before {\n      content: 'CODE';\n      position: absolute;\n      top: 8px;\n      right: 15px;\n      font-size: 10px;\n      color: #888;\n      font-weight: 600;\n      letter-spacing: 1px;\n    }\n    \n    /* Enhanced Blockquotes */\n    blockquote {\n      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n      border-left: 6px solid #0ea5e9;\n      margin: 25px 0;\n      padding: 20px 25px;\n      border-radius: 0 12px 12px 0;\n      font-style: italic;\n      color: #0c4a6e;\n      position: relative;\n      box-shadow: 0 4px 6px rgba(0,0,0,0.05);\n    }\n    \n    blockquote::before {\n      content: '\"';\n      font-size: 60px;\n      color: #0ea5e9;\n      position: absolute;\n      top: -10px;\n      left: 15px;\n      font-family: Georgia, serif;\n      opacity: 0.3;\n    }\n    \n    /* Bold and Italic */\n    strong, b {\n      font-weight: 700;\n      color: #1a365d;\n    }\n    \n    em, i {\n      font-style: italic;\n      color: #2b6cb0;\n    }\n    \n    /* Special Elements */\n    .highlight {\n      background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);\n      padding: 3px 6px;\n      border-radius: 4px;\n      font-weight: 600;\n    }\n    \n    /* Table Styling */\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin: 25px 0;\n      background: white;\n      border-radius: 12px;\n      overflow: hidden;\n      box-shadow: 0 4px 6px rgba(0,0,0,0.05);\n    }\n    \n    th {\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 15px;\n      text-align: left;\n      font-weight: 600;\n    }\n    \n    td {\n      padding: 15px;\n      border-bottom: 1px solid #e2e8f0;\n    }\n    \n    tr:nth-child(even) {\n      background: #f8fafc;\n    }\n    \n    /* Links */\n    a {\n      color: #667eea;\n      text-decoration: none;\n      font-weight: 600;\n      border-bottom: 2px solid transparent;\n      transition: all 0.3s ease;\n    }\n    \n    a:hover {\n      border-bottom-color: #667eea;\n    }\n    \n    /* Print Optimization */\n    @media print {\n      body {\n        background: white !important;\n        margin: 20px;\n      }\n      \n      .content-wrapper {\n        box-shadow: none;\n        border-radius: 0;\n        padding: 20px;\n      }\n      \n      h1, h2 {\n        page-break-after: avoid;\n      }\n      \n      pre, blockquote, table {\n        page-break-inside: avoid;\n      }\n    }\n    \n    /* Utility Classes */\n    .text-center { text-align: center; }\n    .text-right { text-align: right; }\n    .mb-lg { margin-bottom: 30px; }\n    .mt-lg { margin-top: 30px; }\n    \n    /* Custom Script Sections */\n    .script-section {\n      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n      border: 2px solid #cbd5e0;\n      border-radius: 12px;\n      padding: 25px;\n      margin: 25px 0;\n      position: relative;\n    }\n    \n    .script-section::before {\n      content: 'ðŸŽ¬';\n      position: absolute;\n      top: -15px;\n      left: 20px;\n      background: white;\n      padding: 0 10px;\n      font-size: 20px;\n    }\n    \n    .cta-box {\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 20px;\n      border-radius: 12px;\n      text-align: center;\n      margin: 30px 0;\n      box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);\n    }\n    \n    .cta-box h3 {\n      color: white;\n      margin-bottom: 10px;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"content-wrapper\">\n    ${rawHtml}\n  </div>\n</body>\n</html>\n`;\n\nreturn [{ html: fullHtml }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1680, -32],
      "id": "d1e99de0-4827-4c5d-87f3-d4815773e9b3",
      "name": "CSS for HTML Code"
    },
    {
      "parameters": {
        "content": "### Phase 3 - ",
        "height": 416,
        "width": 2080
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [2176, -80],
      "id": "31fe049c-6b9d-4028-8c43-4162e1b64d02",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.pdfshift.io/v3/convert/pdf",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "X-API-Key",
              "value": "YOUR-API-KEY\t"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "source",
              "value": "={{ $json.html }}"
            },
            {
              "name": "landscape",
              "value": "false"
            },
            {
              "name": "use_print",
              "value": "false"
            }
          ]
        },
        "options": {
          "response": {
            "response": {
              "responseFormat": "file",
              "outputPropertyName": "phase2 output.pdf"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1872, -32],
      "id": "26923b17-d8dd-4e4e-84cf-beefbcf9e1e7",
      "name": "HTML to PDF"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c33d2e10-14d5-41ad-a731-b2b4bf692999",
              "name": "Script",
              "value": "={{ $('Cleanup Request').item.json.output }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [2224, -32],
      "id": "0d6b1661-69e8-4b3f-a6da-3da148583dc8",
      "name": "Script for Production"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=USER PROMPT\n\nCreate a comprehensive production guide for these Instagram scripts:\n\n**GENERATED SCRIPTS:**\n{{ $json.Script }}\n\n**FORMAT:** {{ $('On form submission').item.json['Target Format '] }}\n**TOPIC:** {{ $('On form submission').item.json['What\\'s your topic'] }}\n**BRAND VOICE:** {{ $('On form submission').item.json['Brand Voice '] }}\n\n**PROVIDE DETAILED GUIDANCE FOR:**\n\n## ðŸ“± **MOBILE FILMING SETUP**\n**Equipment Needed:**\n- Smartphone recommendations\n- Basic lighting equipment\n- Audio equipment\n- Stabilization tools\n\n**Camera Settings:**\n- Resolution and frame rate for Instagram\n- Aspect ratio optimization (9:16 for Reels)\n- Focus and exposure tips\n\n## ðŸŽ¬ **SHOT-BY-SHOT FILMING GUIDE**\nFor each script section (Hook, Problem, Solution, Benefits, CTA):\n- Camera angles and movements\n- Lighting setup requirements\n- Background and prop suggestions\n- Talent direction and energy level\n- B-roll footage needed\n\n## ðŸ“ **TEXT OVERLAY STRATEGY**\n- Timing for each text overlay\n- Font styles that work on mobile\n- Color schemes for readability\n- Animation suggestions\n- Positioning for different phone sizes\n\n## ðŸŽµ **AUDIO STRATEGY**\n- Trending audio options for the topic\n- Original audio vs trending music decision\n- Voiceover recording tips\n- Audio levels and mixing\n- Silent viewing optimization\n\n## âœ‚ï¸ **EDITING TIMELINE**\n- Cut points and pacing\n- Transition effects that work on mobile\n- Color grading for Instagram\n- Export settings for best quality\n- File size optimization\n\n## ðŸ“Š **INSTAGRAM OPTIMIZATION**\n- Best times to post for this content type\n- Hashtag placement strategy\n- Caption optimization\n- Story highlights integration\n- Cross-promotion tactics\n\n## ðŸš€ **PRO TIPS**\n- Advanced mobile filming techniques\n- Quick editing hacks\n- Engagement boosting strategies\n- Algorithm optimization secrets\n- Content series potential\n\n**Make everything actionable for someone with basic equipment and no professional video experience!**",
        "options": {
          "systemMessage": "You are a mobile content production expert specializing in Instagram Reels. You create detailed, actionable filming and editing guides that help creators produce professional-looking content using just smartphones and basic equipment. You understand lighting, composition, mobile filming techniques, and Instagram's technical requirements."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [2432, -32],
      "id": "0b259a2f-da7c-4e73-a02f-b24776d5da32",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [2304, 176],
      "id": "7bda6c8e-6482-4b84-93f7-c19cec02fa56",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "tMG7XfGvu6nuuFgY",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Clean Claude output - Remove unwanted intro/outro text\nconst claudeOutput = $input.first().json.output;\n\n// Remove common unwanted phrases\nlet cleanedOutput = claudeOutput\n  .replace(/I'll create \\d+ distinct.*?[\\n\\r]/g, '')\n  .replace(/Would you like me to continue.*?$/g, '')\n  .replace(/\\[Continued in next part.*?\\]/g, '')\n  .replace(/^.*?focusing on.*?[\\n\\r]/g, '')\n  .trim();\n\n// Ensure it starts with SCRIPT 1\nif (!cleanedOutput.startsWith('**SCRIPT 1')) {\n  const scriptStart = cleanedOutput.indexOf('**SCRIPT 1');\n  if (scriptStart > 0) {\n    cleanedOutput = cleanedOutput.substring(scriptStart);\n  }\n}\n\nreturn [{\n  ...($input.first().json),\n  output: cleanedOutput,\n  cleaned: true\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2768, -32],
      "id": "a1f41b05-5df1-4e7c-b491-5fd5dd83f81e",
      "name": "Cleanup Request1"
    },
    {
      "parameters": {
        "jsCode": "const md = $json.output;\n\nif (!md) {\n  throw new Error('Output field is empty or missing');\n}\n\nlet html = md\n  .replace(/^## (.*$)/gim, '<h2>$1</h2>')  // h2 first\n  .replace(/^# (.*$)/gim, '<h1>$1</h1>')   // then h1\n  .replace(/\\*\\*(.*)\\*\\*/gim, '<b>$1</b>') // bold\n  .replace(/\\*(.*)\\*/gim, '<i>$1</i>')     // italic\n  .replace(/\\n/gim, '<br>');                // line breaks\n\nreturn [{ html }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2976, -32],
      "id": "31754998-437f-4794-9c22-a94c0b282179",
      "name": "Markdown to HTML1"
    },
    {
      "parameters": {
        "jsCode": "const rawHtml = $json.html;  // your current HTML output\n\nconst fullHtml = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Converted PDF</title>\n</head>\n<body>\n  ${rawHtml}\n</body>\n</html>\n`;\n\nreturn [{ html: fullHtml }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [3184, -32],
      "id": "05a7b682-cff9-4472-9f46-c7a738b16fd8",
      "name": "Complete HTML Document Structure1"
    },
    {
      "parameters": {
        "jsCode": "const rawHtml = $json.html;\nconst fullHtml = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>AI Agents Mastery with N8N</title>\n  <style>\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;600&display=swap');\n    \n    /* Modern PDF Styling */\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    \n    body {\n      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 13px;\n      line-height: 1.7;\n      color: #1a1a1a;\n      margin: 30px 40px;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      background-attachment: fixed;\n    }\n    \n    /* Content Container */\n    .content-wrapper {\n      background: white;\n      border-radius: 12px;\n      padding: 40px;\n      box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n      margin: 20px 0;\n    }\n    \n    /* Headers with gradient and modern styling */\n    h1 {\n      font-size: 32px;\n      font-weight: 700;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      -webkit-background-clip: text;\n      -webkit-text-fill-color: transparent;\n      background-clip: text;\n      margin: 0 0 30px 0;\n      padding: 20px 0;\n      border-bottom: 3px solid #f1f3f4;\n      position: relative;\n    }\n    \n    h1::after {\n      content: '';\n      position: absolute;\n      bottom: -3px;\n      left: 0;\n      width: 60px;\n      height: 3px;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    }\n    \n    h2 {\n      font-size: 24px;\n      font-weight: 600;\n      color: #2d3748;\n      margin: 35px 0 20px 0;\n      padding: 15px 0 15px 20px;\n      background: linear-gradient(90deg, #f7fafc 0%, #edf2f7 100%);\n      border-left: 4px solid #667eea;\n      border-radius: 0 8px 8px 0;\n      position: relative;\n    }\n    \n    h2::before {\n      content: 'ðŸŽ¯';\n      position: absolute;\n      left: -2px;\n      top: 50%;\n      transform: translateY(-50%);\n      font-size: 18px;\n    }\n    \n    h3 {\n      font-size: 18px;\n      font-weight: 600;\n      color: #4a5568;\n      margin: 25px 0 15px 0;\n      padding: 10px 0;\n      border-bottom: 2px solid #e2e8f0;\n    }\n    \n    /* Paragraphs and text */\n    p {\n      margin: 0 0 18px 0;\n      text-align: justify;\n      color: #2d3748;\n      font-weight: 400;\n    }\n    \n    /* Enhanced Lists */\n    ul, ol {\n      margin: 20px 0 20px 0;\n      padding-left: 0;\n    }\n    \n    li {\n      margin-bottom: 12px;\n      padding-left: 30px;\n      position: relative;\n      color: #4a5568;\n      line-height: 1.6;\n    }\n    \n    ul li::before {\n      content: 'â–¶';\n      position: absolute;\n      left: 0;\n      color: #667eea;\n      font-weight: bold;\n      font-size: 12px;\n    }\n    \n    ol li::before {\n      content: counter(item);\n      counter-increment: item;\n      position: absolute;\n      left: 0;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 11px;\n      font-weight: 600;\n    }\n    \n    ol {\n      counter-reset: item;\n    }\n    \n    /* Enhanced Code Styling */\n    code {\n      font-family: 'JetBrains Mono', 'Fira Code', Monaco, 'Cascadia Code', monospace;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 4px 8px;\n      border-radius: 6px;\n      font-size: 12px;\n      font-weight: 500;\n      letter-spacing: 0.5px;\n    }\n    \n    pre {\n      background: #1a1a1a;\n      color: #f8f8f2;\n      padding: 20px;\n      border-radius: 12px;\n      margin: 20px 0;\n      overflow-x: auto;\n      border: 1px solid #e2e8f0;\n      position: relative;\n    }\n    \n    pre::before {\n      content: 'CODE';\n      position: absolute;\n      top: 8px;\n      right: 15px;\n      font-size: 10px;\n      color: #888;\n      font-weight: 600;\n      letter-spacing: 1px;\n    }\n    \n    /* Enhanced Blockquotes */\n    blockquote {\n      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n      border-left: 6px solid #0ea5e9;\n      margin: 25px 0;\n      padding: 20px 25px;\n      border-radius: 0 12px 12px 0;\n      font-style: italic;\n      color: #0c4a6e;\n      position: relative;\n      box-shadow: 0 4px 6px rgba(0,0,0,0.05);\n    }\n    \n    blockquote::before {\n      content: '\"';\n      font-size: 60px;\n      color: #0ea5e9;\n      position: absolute;\n      top: -10px;\n      left: 15px;\n      font-family: Georgia, serif;\n      opacity: 0.3;\n    }\n    \n    /* Bold and Italic */\n    strong, b {\n      font-weight: 700;\n      color: #1a365d;\n    }\n    \n    em, i {\n      font-style: italic;\n      color: #2b6cb0;\n    }\n    \n    /* Special Elements */\n    .highlight {\n      background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);\n      padding: 3px 6px;\n      border-radius: 4px;\n      font-weight: 600;\n    }\n    \n    /* Table Styling */\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin: 25px 0;\n      background: white;\n      border-radius: 12px;\n      overflow: hidden;\n      box-shadow: 0 4px 6px rgba(0,0,0,0.05);\n    }\n    \n    th {\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 15px;\n      text-align: left;\n      font-weight: 600;\n    }\n    \n    td {\n      padding: 15px;\n      border-bottom: 1px solid #e2e8f0;\n    }\n    \n    tr:nth-child(even) {\n      background: #f8fafc;\n    }\n    \n    /* Links */\n    a {\n      color: #667eea;\n      text-decoration: none;\n      font-weight: 600;\n      border-bottom: 2px solid transparent;\n      transition: all 0.3s ease;\n    }\n    \n    a:hover {\n      border-bottom-color: #667eea;\n    }\n    \n    /* Print Optimization */\n    @media print {\n      body {\n        background: white !important;\n        margin: 20px;\n      }\n      \n      .content-wrapper {\n        box-shadow: none;\n        border-radius: 0;\n        padding: 20px;\n      }\n      \n      h1, h2 {\n        page-break-after: avoid;\n      }\n      \n      pre, blockquote, table {\n        page-break-inside: avoid;\n      }\n    }\n    \n    /* Utility Classes */\n    .text-center { text-align: center; }\n    .text-right { text-align: right; }\n    .mb-lg { margin-bottom: 30px; }\n    .mt-lg { margin-top: 30px; }\n    \n    /* Custom Script Sections */\n    .script-section {\n      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n      border: 2px solid #cbd5e0;\n      border-radius: 12px;\n      padding: 25px;\n      margin: 25px 0;\n      position: relative;\n    }\n    \n    .script-section::before {\n      content: 'ðŸŽ¬';\n      position: absolute;\n      top: -15px;\n      left: 20px;\n      background: white;\n      padding: 0 10px;\n      font-size: 20px;\n    }\n    \n    .cta-box {\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      padding: 20px;\n      border-radius: 12px;\n      text-align: center;\n      margin: 30px 0;\n      box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);\n    }\n    \n    .cta-box h3 {\n      color: white;\n      margin-bottom: 10px;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"content-wrapper\">\n    ${rawHtml}\n  </div>\n</body>\n</html>\n`;\n\nreturn [{ html: fullHtml }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [3392, -32],
      "id": "77188050-3dff-4d1c-9d71-80d6b0087a09",
      "name": "CSS for HTML Code1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.pdfshift.io/v3/convert/pdf",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "X-API-Key",
              "value": "sk_86e0319b0465175cddda0d0718c6f3cb6d168a0e\t"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "source",
              "value": "={{ $json.html }}"
            },
            {
              "name": "landscape",
              "value": "false"
            },
            {
              "name": "use_print",
              "value": "false"
            }
          ]
        },
        "options": {
          "response": {
            "response": {
              "responseFormat": "file",
              "outputPropertyName": "phase3 output.pdf"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [3584, -32],
      "id": "6dcb0127-93c5-4ff6-baff-d0c38a31bf66",
      "name": "HTML to PDF1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [3984, -336],
      "id": "4980cef0-1b9b-4dcf-8a8c-b4d0a844b97a",
      "name": "Merge"
    }
  ],
  "pinData": {},
  "connections": {
    "On form submission": {
      "main": [
        [
          {
            "node": "Get Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Video": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Get Video Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Video Analysis": {
      "main": [
        [
          {
            "node": "Gemini Analysis",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Get Video Analysis",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Analysis": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Cleanup Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cleanup Request": {
      "main": [
        [
          {
            "node": "Markdown to HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Markdown to HTML": {
      "main": [
        [
          {
            "node": "Complete HTML Document Structure",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Complete HTML Document Structure": {
      "main": [
        [
          {
            "node": "CSS for HTML Code",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CSS for HTML Code": {
      "main": [
        [
          {
            "node": "HTML to PDF",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML to PDF": {
      "main": [
        [
          {
            "node": "Script for Production",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Script for Production": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Cleanup Request1": {
      "main": [
        [
          {
            "node": "Markdown to HTML1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Markdown to HTML1": {
      "main": [
        [
          {
            "node": "Complete HTML Document Structure1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Complete HTML Document Structure1": {
      "main": [
        [
          {
            "node": "CSS for HTML Code1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CSS for HTML Code1": {
      "main": [
        [
          {
            "node": "HTML to PDF1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Cleanup Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML to PDF1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "d154c455-f721-4acb-a68e-66821e84b9a3",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "26b8fa61f795fc7b8cb50c9f872ef9e96862810488044635ee78b5d60dc3d077"
  },
  "id": "MPW8oiKqoMriHUIA",
  "tags": []
}
